<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>لعبة تنس</title>
  <link rel="stylesheet" href="styles.css"/>
  <style>
    #game { width: 600px; height: 400px; background-color: #222; margin: 20px auto; position: relative; overflow: hidden; }
    .paddle { width: 100px; height: 15px; background-color: #fff; position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); }
    .ball { width: 15px; height: 15px; background-color: #fff; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
    .score { color: #fff; font-size: 20px; position: absolute; top: 10px; width: 100%; text-align: center; }
  </style>
</head>
<body>
  <header><h1>لعبة تنس</h1></header>
  <div id="game">
    <div class="score" id="score">النتيجة: 0 - 0</div>
    <div class="paddle" id="paddle"></div>
    <div class="ball" id="ball"></div>
  </div>
  <footer><p><a href="index.html">العودة للصفحة الرئيسية</a></p></footer>

<script>
  let ball = document.getElementById('ball'),
      paddle = document.getElementById('paddle'),
      scoreDisplay = document.getElementById('score');

  let ballSpeedX = 4, ballSpeedY = 4;
  let ballPosX = ball.offsetLeft, ballPosY = ball.offsetTop;
  let paddlePosX = paddle.offsetLeft, paddleWidth = paddle.offsetWidth;
  let leftPressed = false, rightPressed = false;
  let playerScore = 0, computerScore = 0;

  document.addEventListener('keydown', e => {
    if (e.key === 'ArrowLeft') leftPressed = true;
    else if (e.key === 'ArrowRight') rightPressed = true;
  });
  document.addEventListener('keyup', e => {
    if (e.key === 'ArrowLeft') leftPressed = false;
    else if (e.key === 'ArrowRight') rightPressed = false;
  });

  function moveBall() {
    ballPosX += ballSpeedX;
    ballPosY += ballSpeedY;

    if (ballPosX + ball.offsetWidth > 600 || ballPosX < 0) ballSpeedX = -ballSpeedX;
    if (ballPosY < 0) ballSpeedY = -ballSpeedY;

    if (ballPosY + ball.offsetHeight > 400) {
      // اصطدام بالمضرب؟
      if (ballPosX > paddlePosX && ballPosX < paddlePosX + paddleWidth) {
        ballSpeedY = -ballSpeedY;
        playerScore++;
      } else {
        computerScore++;
        resetBall();
      }
    }

    if (leftPressed && paddlePosX > 0) paddlePosX -= 6;
    if (rightPressed && paddlePosX < 600 - paddleWidth) paddlePosX += 6;

    paddle.style.left = paddlePosX + 'px';
    ball.style.left = ballPosX + 'px';
    ball.style.top = ballPosY + 'px';

    scoreDisplay.textContent = `النتيجة: ${playerScore} - ${computerScore}`;
    requestAnimationFrame(moveBall);
  }

  function resetBall() {
    ballPosX = 300; ballPosY = 200;
    ballSpeedX = 4; ballSpeedY = 4;
  }

  moveBall();
</script>
</body>
</html>
